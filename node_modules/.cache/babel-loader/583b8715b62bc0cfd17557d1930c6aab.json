{"ast":null,"code":"import _defineProperty from\"/home/shakthivel/Desktop/inotebook/my-app/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/shakthivel/Desktop/inotebook/my-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/shakthivel/Desktop/inotebook/my-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useRef,useState}from'react';import noteContext from'../context/notes/noteContext';import NoteItem from'./NoteItem';import AddNote from'./AddNote';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Notes=function Notes(props){var context=useContext(noteContext);var navigate=useNavigate();var notes=context.notes,getNote=context.getNote,editNote=context.editNote;useEffect(function(){if(localStorage.getItem('token')){getNote();}else{navigate(\"/login\");}// eslint-disable-next-line\n},[]);var ref=useRef(null);var refClose=useRef(null);var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var updateNote=function updateNote(currentNote){ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};var handleClick=function handleClick(e){e.preventDefault();editNote(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();};var onChange=function onChange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddNote,{}),/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:note.etitle,\"aria-describedby\":\"emailHelp\",onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription,onChange:onChange,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag,onChange:onChange,minLength:5,required:true})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,type:\"button\",className:\"btn btn-primary\",children:\"Save changes\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:notes.length===0&&'No notes to display'}),notes.map(function(note){return/*#__PURE__*/_jsx(NoteItem,{updateNote:updateNote,note:note},note._id);})]})})]});};export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","noteContext","NoteItem","AddNote","useNavigate","Notes","props","context","navigate","notes","getNote","editNote","localStorage","getItem","ref","refClose","id","etitle","edescription","etag","note","setNote","updateNote","currentNote","current","click","_id","title","description","tag","handleClick","e","preventDefault","onChange","target","name","value","length","map"],"sources":["/home/shakthivel/Desktop/inotebook/my-app/frontend/src/components/Notes.js"],"sourcesContent":["import React, { useContext,useEffect,useRef,useState } from 'react'\nimport noteContext from '../context/notes/noteContext';\nimport NoteItem from './NoteItem';\nimport AddNote from './AddNote';\nimport { useNavigate } from 'react-router-dom'\nconst Notes=(props)=> {\n    const context = useContext(noteContext);\n    let navigate = useNavigate();\n    const {notes,getNote,editNote}=context;\n useEffect(() => {\n  if(localStorage.getItem('token')){\n\n    getNote()\n  }\n  else{\n    navigate(\"/login\")\n  }\n   \n   // eslint-disable-next-line\n  \n }, [])\n const ref = useRef(null)\n const refClose=useRef(null)\n const [note, setNote] = useState({id:\"\",etitle: \"\", edescription: \"\", etag: \"\"})\n const updateNote=(currentNote)=>{\n  ref.current.click();\n  setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag})\n\n }\n const handleClick = (e)=>{\n  e.preventDefault();\n  editNote(note.id,note.etitle,note.edescription,note.etag)\n  refClose.current.click();\n}\n\nconst onChange = (e)=>{\n  setNote({...note, [e.target.name]: e.target.value})\n}\n \n  return (\n    <>\n    <AddNote/>\n    \n   \n<button ref={ref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n  Launch demo modal\n</button>\n\n\n<div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div className=\"modal-dialog\">\n    <div className=\"modal-content\">\n      <div className=\"modal-header\">\n        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Edit Note</h5>\n        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div className=\"modal-body\">\n      <form className=\"my-3\">\n                <div className=\"mb-3\">\n                    <label htmlFor=\"title\" className=\"form-label\">Title</label>\n                    <input type=\"text\" className=\"form-control\" id=\"etitle\" name=\"etitle\" value={note.etitle} aria-describedby=\"emailHelp\" onChange={onChange} minLength={5} required /> \n                </div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"description\" className=\"form-label\">Description</label>\n                    <input type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" value={note.edescription} onChange={onChange} minLength={5} required />\n                </div>\n                <div className=\"mb-3\">\n                    <label htmlFor=\"tag\" className=\"form-label\">Tag</label>\n                    <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" value={note.etag} onChange={onChange} minLength={5} required />\n                </div>\n               \n                \n            </form>\n      </div>\n      <div className=\"modal-footer\">\n        <button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n        <button onClick={handleClick} type=\"button\" className=\"btn btn-primary\">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n\n\n    <div>\n        <div className=\"row my-3\">\n   <h2>\n    Your notes\n   </h2>\n   <div className=\"container\">\n{notes.length===0 && 'No notes to display'}\n   </div>\n   {notes.map((note)=>\n    {\n      return <NoteItem key={note._id} updateNote={updateNote} note={note}/>\n    }\n    )}\n    </div>\n    </div>\n    </>\n  )\n}\n\nexport default Notes"],"mappings":"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"},"metadata":{},"sourceType":"module"}