{"ast":null,"code":"import _regeneratorRuntime from\"/home/shakthivel/Desktop/git/not3r/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/shakthivel/Desktop/git/not3r/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/shakthivel/Desktop/git/not3r/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import NoteContext from\"./noteContext\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var NoteState=function NoteState(props){var host=\"https://noter4.herokuapp.com\";var notesInitial=[];var _useState=useState(notesInitial),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setnotes=_useState2[1];var getNote=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(title,description,tag){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(host,\"/api/notes/fetchallnotes\"),{method:'GET',headers:{'Content-Type':'application/json',\"auth-token\":localStorage.getItem('token')}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;setnotes(json);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getNote(_x,_x2,_x3){return _ref.apply(this,arguments);};}();// Add a note\nvar addNote=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(title,description,tag){var response,note;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(host,\"/api/notes/addnote\"),{method:'POST',headers:{'Content-Type':'application/json',\"auth-token\":localStorage.getItem('token')},body:JSON.stringify({title:title,description:description,tag:tag})});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:note=_context2.sent;setnotes(notes.concat(note));case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function addNote(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();//   Edit note\nvar editNote=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id,title,description,tag){var response,newNotes,index,element;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(host,\"/api/notes/updatenote/\").concat(id),{method:'PUT',headers:{'Content-Type':'application/json',\"auth-token\":localStorage.getItem('token')},body:JSON.stringify({title:title,description:description,tag:tag})});case 2:response=_context3.sent;//  const json= response.json(); \nnewNotes=JSON.parse(JSON.stringify(notes));index=0;case 5:if(!(index<newNotes.length)){_context3.next=15;break;}element=newNotes[index];if(!(element._id===id)){_context3.next=12;break;}newNotes[index].title=title;newNotes[index].description=description;newNotes[index].tag=tag;return _context3.abrupt(\"break\",15);case 12:index++;_context3.next=5;break;case 15:setnotes(newNotes);case 16:case\"end\":return _context3.stop();}}},_callee3);}));return function editNote(_x7,_x8,_x9,_x10){return _ref3.apply(this,arguments);};}();// Delete note\nvar deleteNote=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){var response,json,newNotes;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(host,\"/api/notes/deletenote/\").concat(id),{method:'DELETE',headers:{'Content-Type':'application/json',\"auth-token\":localStorage.getItem('token')}});case 2:response=_context4.sent;json=response.json();newNotes=notes.filter(function(note){return note._id!==id;});setnotes(newNotes);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function deleteNote(_x11){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(NoteContext.Provider,{value:{notes:notes,addNote:addNote,deleteNote:deleteNote,editNote:editNote,getNote:getNote},children:props.children});};export default NoteState;","map":{"version":3,"names":["NoteContext","useState","NoteState","props","host","notesInitial","notes","setnotes","getNote","title","description","tag","fetch","method","headers","localStorage","getItem","response","json","addNote","body","JSON","stringify","note","concat","editNote","id","newNotes","parse","index","length","element","_id","deleteNote","filter","children"],"sources":["/home/shakthivel/Desktop/git/not3r/src/context/notes/NoteState.js"],"sourcesContent":["\nimport NoteContext from \"./noteContext\";\nimport { useState } from \"react\";\nconst NoteState=(props)=>{\n  const host=\"https://noter4.herokuapp.com\"\n  const notesInitial=[]\n  const [notes,setnotes]=useState(notesInitial)\n\n  const getNote=async (title,description,tag)=>{\n    const response = await fetch(`${host}/api/notes/fetchallnotes`, {\n      method: 'GET', \n      \n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\":localStorage.getItem('token')\n      },\n    \n\n   });\n   const json=await response.json(); \n    \n     setnotes(json)\n  \n  }\n// Add a note\nconst addNote=async (title,description,tag)=>{\n  const response = await fetch(`${host}/api/notes/addnote`, {\n    method: 'POST', \n    \n    headers: {\n      'Content-Type': 'application/json',\n      \"auth-token\":localStorage.getItem('token')\n    },\n  \n    body: JSON.stringify({title,description,tag}) \n });\n const note=await response.json(); \n  \n   \nsetnotes(notes.concat(note))\n}\n//   Edit note\nconst editNote=async (id,title,description,tag)=>{\n\n\n\n    const response = await fetch(`${host}/api/notes/updatenote/${id}`, {\n      method: 'PUT', \n      \n      headers: {\n        'Content-Type': 'application/json',\n        \"auth-token\":localStorage.getItem('token')\n      },\n    \n      body: JSON.stringify({title,description,tag}) \n     \n   });\n  //  const json= response.json(); \n  \n  \n  let newNotes=JSON.parse(JSON.stringify(notes))\nfor (let index = 0; index < newNotes.length; index++) {\n  const element = newNotes[index];\n  if(element._id===id){\n    newNotes[index].title=title;\n    newNotes[index].description=description;\n    newNotes[index].tag=tag;\n   break;\n  }\n \n}\n\nsetnotes(newNotes)\n}\n// Delete note\nconst deleteNote=async (id)=>{\n  const response = await fetch(`${host}/api/notes/deletenote/${id}`, {\n    method: 'DELETE', \n    \n    headers: {\n      'Content-Type': 'application/json',\n      \"auth-token\":localStorage.getItem('token')\n    },\n  \n \n   \n });\n const json= response.json(); \n\n  \n\n  const newNotes=notes.filter((note)=>{return note._id!==id});\n  setnotes(newNotes)\n}\n\n \n    return(\n        <NoteContext.Provider value={{notes,addNote,deleteNote,editNote,getNote}}>\n        {props.children}\n        </NoteContext.Provider>\n    )\n}\n\nexport default NoteState"],"mappings":"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"},"metadata":{},"sourceType":"module"}